<!--
/**
* Copyright Â© Vitor Morais, Inc. All rights reserved.
* See COPYING.txt for license details.
*/
 -->

<?php
    $viewModel = $block->getData('viewModel');
    $openNewTab = $viewModel->getOpenNewTab();
    $whatsappNumber = $viewModel->getWhatsAppNumber();
    $whatsappMessage = $viewModel->getWhatsappMessage();
    $urlWhatsapp = $viewModel->getWhatsappUrlApi();
    $pathDefaultIcon = 'Vitormorais_Whatsapp::images/wpp-logo.png';
    $customIcon = ($viewModel->getCustomIcon()) ?: $this->getViewFileUrl($pathDefaultIcon);
?>

<?php if (!empty($whatsappNumber)): ?>
     <div class="whatsapp-fixed <?= $viewModel->getWhatsappPosition() ?>">
          <a href="<?= $urlWhatsapp ?><?= $whatsappNumber ?><?= $whatsappMessage ?>"
               rel="noopener"
               aria-label="WhatsApp"
               target="<?= $openNewTab ? '_blank' : '_self';?>">
               <img src="<?= $customIcon ?>"
                    alt="WhatsApp"
                    title="WhatsApp"
                    loading="lazy"
               >
          </a>
     </div>
<?php endif; ?>